

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>GSASIImath: computation module &mdash; GSAS-II 0.2.0 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.2.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="GSAS-II 0.2.0 documentation" href="index.html" />
    <link rel="next" title="GSASIIindex: Cell Indexing Module" href="GSASIIindex.html" />
    <link rel="prev" title="GSASIIimage: Image calc module" href="GSASIIimage.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="GSASIIindex.html" title="GSASIIindex: Cell Indexing Module"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="GSASIIimage.html" title="GSASIIimage: Image calc module"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">GSAS-II 0.2.0 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <span class="target" id="module-GSASIImath"></span><div class="section" id="gsasiimath-computation-module">
<h1><em>GSASIImath: computation module</em><a class="headerlink" href="#gsasiimath-computation-module" title="Permalink to this headline">¶</a></h1>
<p>Routines for least-squares minimization and other stuff</p>
<dl class="function">
<dt id="GSASIImath.AV2Q">
<tt class="descclassname">GSASIImath.</tt><tt class="descname">AV2Q</tt><big>(</big><em>A</em>, <em>V</em><big>)</big><a class="reference internal" href="_modules/GSASIImath.html#AV2Q"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GSASIImath.AV2Q" title="Permalink to this definition">¶</a></dt>
<dd><p>convert angle (radians) &amp; vector to quaternion
q=r+ai+bj+ck</p>
</dd></dl>

<dl class="function">
<dt id="GSASIImath.AVdeg2Q">
<tt class="descclassname">GSASIImath.</tt><tt class="descname">AVdeg2Q</tt><big>(</big><em>A</em>, <em>V</em><big>)</big><a class="reference internal" href="_modules/GSASIImath.html#AVdeg2Q"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GSASIImath.AVdeg2Q" title="Permalink to this definition">¶</a></dt>
<dd><p>convert angle (degrees) &amp; vector to quaternion
q=r+ai+bj+ck</p>
</dd></dl>

<dl class="function">
<dt id="GSASIImath.AtomTLS2UIJ">
<tt class="descclassname">GSASIImath.</tt><tt class="descname">AtomTLS2UIJ</tt><big>(</big><em>atomData</em>, <em>atPtrs</em>, <em>Amat</em>, <em>rbObj</em><big>)</big><a class="reference internal" href="_modules/GSASIImath.html#AtomTLS2UIJ"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GSASIImath.AtomTLS2UIJ" title="Permalink to this definition">¶</a></dt>
<dd><p>default doc string</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> (<em>type</em>) &#8211; description</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">type name: description</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="GSASIImath.AtomUij2TLS">
<tt class="descclassname">GSASIImath.</tt><tt class="descname">AtomUij2TLS</tt><big>(</big><em>atomData</em>, <em>atPtrs</em>, <em>Amat</em>, <em>Bmat</em>, <em>rbObj</em><big>)</big><a class="reference internal" href="_modules/GSASIImath.html#AtomUij2TLS"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GSASIImath.AtomUij2TLS" title="Permalink to this definition">¶</a></dt>
<dd><p>default doc string</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> (<em>type</em>) &#8211; description</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">type name: description</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="GSASIImath.ChargeFlip">
<tt class="descclassname">GSASIImath.</tt><tt class="descname">ChargeFlip</tt><big>(</big><em>data</em>, <em>reflDict</em>, <em>pgbar</em><big>)</big><a class="reference internal" href="_modules/GSASIImath.html#ChargeFlip"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GSASIImath.ChargeFlip" title="Permalink to this definition">¶</a></dt>
<dd><p>default doc string</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> (<em>type</em>) &#8211; description</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">type name: description</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="GSASIImath.FillAtomLookUp">
<tt class="descclassname">GSASIImath.</tt><tt class="descname">FillAtomLookUp</tt><big>(</big><em>atomData</em><big>)</big><a class="reference internal" href="_modules/GSASIImath.html#FillAtomLookUp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GSASIImath.FillAtomLookUp" title="Permalink to this definition">¶</a></dt>
<dd><p>create a dictionary of atom indexes with atom IDs as keys</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>atomData</strong> (<em>list</em>) &#8211; Atom table to be used</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">dict atomLookUp: dictionary of atom indexes with atom IDs as keys</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="GSASIImath.FindAtomIndexByIDs">
<tt class="descclassname">GSASIImath.</tt><tt class="descname">FindAtomIndexByIDs</tt><big>(</big><em>atomData</em>, <em>IDs</em>, <em>Draw=True</em><big>)</big><a class="reference internal" href="_modules/GSASIImath.html#FindAtomIndexByIDs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GSASIImath.FindAtomIndexByIDs" title="Permalink to this definition">¶</a></dt>
<dd><p>finds the set of atom array indices for a list of atom IDs. Will search 
either the Atom table or the drawAtom table.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>atomData</strong> (<em>list</em>) &#8211; Atom or drawAtom table containting coordinates, etc.</li>
<li><strong>IDs</strong> (<em>list</em>) &#8211; atom IDs to be found</li>
<li><strong>Draw</strong> (<em>bool</em>) &#8211; True if drawAtom table to be searched; False if Atom table
is searched</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">list indx: atom (or drawAtom) indices</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="GSASIImath.FourierMap">
<tt class="descclassname">GSASIImath.</tt><tt class="descname">FourierMap</tt><big>(</big><em>data</em>, <em>reflDict</em><big>)</big><a class="reference internal" href="_modules/GSASIImath.html#FourierMap"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GSASIImath.FourierMap" title="Permalink to this definition">¶</a></dt>
<dd><p>default doc string</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> (<em>type</em>) &#8211; description</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">type name: description</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="GSASIImath.GetAngleSig">
<tt class="descclassname">GSASIImath.</tt><tt class="descname">GetAngleSig</tt><big>(</big><em>Oatoms</em>, <em>Atoms</em>, <em>Amat</em>, <em>SGData</em>, <em>covData={}</em><big>)</big><a class="reference internal" href="_modules/GSASIImath.html#GetAngleSig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GSASIImath.GetAngleSig" title="Permalink to this definition">¶</a></dt>
<dd><p>default doc string</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> (<em>type</em>) &#8211; description</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">type name: description</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="GSASIImath.GetAtomCoordsByID">
<tt class="descclassname">GSASIImath.</tt><tt class="descname">GetAtomCoordsByID</tt><big>(</big><em>pId</em>, <em>parmDict</em>, <em>AtLookup</em>, <em>indx</em><big>)</big><a class="reference internal" href="_modules/GSASIImath.html#GetAtomCoordsByID"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GSASIImath.GetAtomCoordsByID" title="Permalink to this definition">¶</a></dt>
<dd><p>default doc string</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> (<em>type</em>) &#8211; description</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">type name: description</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="GSASIImath.GetAtomItemsById">
<tt class="descclassname">GSASIImath.</tt><tt class="descname">GetAtomItemsById</tt><big>(</big><em>atomData</em>, <em>atomLookUp</em>, <em>IdList</em>, <em>itemLoc</em>, <em>numItems=1</em><big>)</big><a class="reference internal" href="_modules/GSASIImath.html#GetAtomItemsById"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GSASIImath.GetAtomItemsById" title="Permalink to this definition">¶</a></dt>
<dd><p>gets atom parameters for atoms using atom IDs</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>atomData</strong> (<em>list</em>) &#8211; Atom table to be used</li>
<li><strong>atomLookUp</strong> (<em>dict</em>) &#8211; dictionary of atom indexes with atom IDs as keys</li>
<li><strong>IdList</strong> (<em>list</em>) &#8211; atom IDs to be found</li>
<li><strong>itemLoc</strong> (<em>int</em>) &#8211; pointer to desired 1st item in an atom table entry</li>
<li><strong>numItems</strong> (<em>int</em>) &#8211; number of items to be retrieved</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">type name: description</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="GSASIImath.GetAtomsById">
<tt class="descclassname">GSASIImath.</tt><tt class="descname">GetAtomsById</tt><big>(</big><em>atomData</em>, <em>atomLookUp</em>, <em>IdList</em><big>)</big><a class="reference internal" href="_modules/GSASIImath.html#GetAtomsById"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GSASIImath.GetAtomsById" title="Permalink to this definition">¶</a></dt>
<dd><p>gets a list of atoms from Atom table that match a set of atom IDs</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>atomData</strong> (<em>list</em>) &#8211; Atom table to be used</li>
<li><strong>atomLookUp</strong> (<em>dict</em>) &#8211; dictionary of atom indexes with atom IDs as keys</li>
<li><strong>IdList</strong> (<em>list</em>) &#8211; atom IDs to be found</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">list atoms: list of atoms found</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="GSASIImath.GetDATSig">
<tt class="descclassname">GSASIImath.</tt><tt class="descname">GetDATSig</tt><big>(</big><em>Oatoms</em>, <em>Atoms</em>, <em>Amat</em>, <em>SGData</em>, <em>covData={}</em><big>)</big><a class="reference internal" href="_modules/GSASIImath.html#GetDATSig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GSASIImath.GetDATSig" title="Permalink to this definition">¶</a></dt>
<dd><p>default doc string</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> (<em>type</em>) &#8211; description</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">type name: description</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="GSASIImath.GetDistSig">
<tt class="descclassname">GSASIImath.</tt><tt class="descname">GetDistSig</tt><big>(</big><em>Oatoms</em>, <em>Atoms</em>, <em>Amat</em>, <em>SGData</em>, <em>covData={}</em><big>)</big><a class="reference internal" href="_modules/GSASIImath.html#GetDistSig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GSASIImath.GetDistSig" title="Permalink to this definition">¶</a></dt>
<dd><p>default doc string</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> (<em>type</em>) &#8211; description</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">type name: description</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="GSASIImath.GetSHCoeff">
<tt class="descclassname">GSASIImath.</tt><tt class="descname">GetSHCoeff</tt><big>(</big><em>pId</em>, <em>parmDict</em>, <em>SHkeys</em><big>)</big><a class="reference internal" href="_modules/GSASIImath.html#GetSHCoeff"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GSASIImath.GetSHCoeff" title="Permalink to this definition">¶</a></dt>
<dd><p>default doc string</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> (<em>type</em>) &#8211; description</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">type name: description</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="GSASIImath.GetTorsionSig">
<tt class="descclassname">GSASIImath.</tt><tt class="descname">GetTorsionSig</tt><big>(</big><em>Oatoms</em>, <em>Atoms</em>, <em>Amat</em>, <em>SGData</em>, <em>covData={}</em><big>)</big><a class="reference internal" href="_modules/GSASIImath.html#GetTorsionSig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GSASIImath.GetTorsionSig" title="Permalink to this definition">¶</a></dt>
<dd><p>default doc string</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> (<em>type</em>) &#8211; description</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">type name: description</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="GSASIImath.GetXYZDist">
<tt class="descclassname">GSASIImath.</tt><tt class="descname">GetXYZDist</tt><big>(</big><em>xyz</em>, <em>XYZ</em>, <em>Amat</em><big>)</big><a class="reference internal" href="_modules/GSASIImath.html#GetXYZDist"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GSASIImath.GetXYZDist" title="Permalink to this definition">¶</a></dt>
<dd><p>gets distance from position xyz to all XYZ, xyz &amp; XYZ are np.array 
and are in crystal coordinates; Amat is crystal to Cart matrix</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> (<em>type</em>) &#8211; description</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">type name: description</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="GSASIImath.HessianLSQ">
<tt class="descclassname">GSASIImath.</tt><tt class="descname">HessianLSQ</tt><big>(</big><em>func</em>, <em>x0</em>, <em>Hess</em>, <em>args=()</em>, <em>ftol=1.49012e-08</em>, <em>xtol=1.49012e-08</em>, <em>maxcyc=0</em>, <em>Print=False</em><big>)</big><a class="reference internal" href="_modules/GSASIImath.html#HessianLSQ"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GSASIImath.HessianLSQ" title="Permalink to this definition">¶</a></dt>
<dd><p>Minimize the sum of squares of a function (<span class="math">\(f\)</span>) evaluated on a series of
values (y): <span class="math">\(\sum_{y=0}^{N_{obs}} f(y,{args})\)</span></p>
<div class="highlight-python"><pre>            Nobs
x = arg min(sum(func(y)**2,axis=0))
            y=0</pre>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>func</strong> (<em>function</em>) &#8211; callable method or function
should take at least one (possibly length N vector) argument and
returns M floating point numbers.</li>
<li><strong>x0</strong> (<em>np.ndarray</em>) &#8211; The starting estimate for the minimization of length N</li>
<li><strong>Hess</strong> (<em>function</em>) &#8211; callable method or function
A required function or method to compute the weighted vector and Hessian for func.
It must be a symmetric NxN array</li>
<li><strong>args</strong> (<em>tuple</em>) &#8211; Any extra arguments to func are placed in this tuple.</li>
<li><strong>ftol</strong> (<em>float</em>) &#8211; Relative error desired in the sum of squares.</li>
<li><strong>xtol</strong> (<em>float</em>) &#8211; Relative error desired in the approximate solution.</li>
<li><strong>maxcyc</strong> (<em>int</em>) &#8211; The maximum number of cycles of refinement to execute, if -1 refine 
until other limits are met (ftol, xtol)</li>
<li><strong>Print</strong> (<em>bool</em>) &#8211; True for printing results (residuals &amp; times) by cycle</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><p>(x,cov_x,infodict) where</p>
<ul>
<li><p class="first">x : ndarray
The solution (or the result of the last iteration for an unsuccessful
call).</p>
</li>
<li><p class="first">cov_x : ndarray
Uses the fjac and ipvt optional outputs to construct an
estimate of the jacobian around the solution.  <tt class="docutils literal"><span class="pre">None</span></tt> if a
singular matrix encountered (indicates very flat curvature in
some direction).  This matrix must be multiplied by the
residual standard deviation to get the covariance of the
parameter estimates &#8211; see curve_fit.</p>
</li>
<li><p class="first">infodict : dict
a dictionary of optional outputs with the keys:</p>
<blockquote>
<div><ul class="simple">
<li>&#8216;fvec&#8217; : the function evaluated at the output</li>
<li>&#8216;num cyc&#8217;:</li>
<li>&#8216;nfev&#8217;:</li>
<li>&#8216;lamMax&#8217;:</li>
<li>&#8216;psing&#8217;:</li>
</ul>
</div></blockquote>
</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="GSASIImath.OmitMap">
<tt class="descclassname">GSASIImath.</tt><tt class="descname">OmitMap</tt><big>(</big><em>data</em>, <em>reflDict</em>, <em>pgbar=None</em><big>)</big><a class="reference internal" href="_modules/GSASIImath.html#OmitMap"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GSASIImath.OmitMap" title="Permalink to this definition">¶</a></dt>
<dd><p>default doc string</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> (<em>type</em>) &#8211; description</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">type name: description</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="GSASIImath.PeaksEquiv">
<tt class="descclassname">GSASIImath.</tt><tt class="descname">PeaksEquiv</tt><big>(</big><em>data</em>, <em>Ind</em><big>)</big><a class="reference internal" href="_modules/GSASIImath.html#PeaksEquiv"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GSASIImath.PeaksEquiv" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the equivalent map peaks for those selected. Works on the 
contents of data[&#8216;Map Peaks&#8217;].</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data</strong> &#8211; the phase data structure</li>
<li><strong>Ind</strong> (<em>list</em>) &#8211; list of selected peak indices</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">augmented list of peaks including those related by symmetry to the
ones in Ind</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="GSASIImath.PeaksUnique">
<tt class="descclassname">GSASIImath.</tt><tt class="descname">PeaksUnique</tt><big>(</big><em>data</em>, <em>Ind</em><big>)</big><a class="reference internal" href="_modules/GSASIImath.html#PeaksUnique"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GSASIImath.PeaksUnique" title="Permalink to this definition">¶</a></dt>
<dd><p>Finds the symmetry unique set of peaks from those selected. Works on the 
contents of data[&#8216;Map Peaks&#8217;].</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data</strong> &#8211; the phase data structure</li>
<li><strong>Ind</strong> (<em>list</em>) &#8211; list of selected peak indices</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">the list of symmetry unique peaks from among those given in Ind</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="GSASIImath.Q2AV">
<tt class="descclassname">GSASIImath.</tt><tt class="descname">Q2AV</tt><big>(</big><em>Q</em><big>)</big><a class="reference internal" href="_modules/GSASIImath.html#Q2AV"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GSASIImath.Q2AV" title="Permalink to this definition">¶</a></dt>
<dd><p>convert quaternion to angle (radians 0-2pi) &amp; normalized vector
q=r+ai+bj+ck</p>
</dd></dl>

<dl class="function">
<dt id="GSASIImath.Q2AVdeg">
<tt class="descclassname">GSASIImath.</tt><tt class="descname">Q2AVdeg</tt><big>(</big><em>Q</em><big>)</big><a class="reference internal" href="_modules/GSASIImath.html#Q2AVdeg"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GSASIImath.Q2AVdeg" title="Permalink to this definition">¶</a></dt>
<dd><p>convert quaternion to angle (degrees 0-360) &amp; normalized vector
q=r+ai+bj+ck</p>
</dd></dl>

<dl class="function">
<dt id="GSASIImath.Q2Mat">
<tt class="descclassname">GSASIImath.</tt><tt class="descname">Q2Mat</tt><big>(</big><em>Q</em><big>)</big><a class="reference internal" href="_modules/GSASIImath.html#Q2Mat"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GSASIImath.Q2Mat" title="Permalink to this definition">¶</a></dt>
<dd><p>make rotation matrix from quaternion
q=r+ai+bj+ck</p>
</dd></dl>

<dl class="function">
<dt id="GSASIImath.RotateRBXYZ">
<tt class="descclassname">GSASIImath.</tt><tt class="descname">RotateRBXYZ</tt><big>(</big><em>Bmat</em>, <em>Cart</em>, <em>oriQ</em><big>)</big><a class="reference internal" href="_modules/GSASIImath.html#RotateRBXYZ"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GSASIImath.RotateRBXYZ" title="Permalink to this definition">¶</a></dt>
<dd><p>rotate &amp; transform cartesian coordinates to crystallographic ones
no translation applied. To be used for numerical derivatives</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> (<em>type</em>) &#8211; description</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">type name: description</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="GSASIImath.SearchMap">
<tt class="descclassname">GSASIImath.</tt><tt class="descname">SearchMap</tt><big>(</big><em>data</em><big>)</big><a class="reference internal" href="_modules/GSASIImath.html#SearchMap"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GSASIImath.SearchMap" title="Permalink to this definition">¶</a></dt>
<dd><p>Does a search of a density map for peaks meeting the criterion of peak
height is greater than mapData[&#8216;cutOff&#8217;]/100 of mapData[&#8216;rhoMax&#8217;] where 
mapData is data[&#8216;General&#8217;][&#8216;mapData&#8217;]; the map is also in mapData.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data</strong> &#8211; the phase data structure</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">(peaks,mags,dzeros) where<ul class="simple">
<li>peaks : ndarray
x,y,z positions of the peaks found in the map</li>
<li>mags : ndarray
the magnitudes of the peaks</li>
<li>dzeros : ndarray
the distance of the peaks from  the unit cell origin</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="GSASIImath.SetMolCent">
<tt class="descclassname">GSASIImath.</tt><tt class="descname">SetMolCent</tt><big>(</big><em>model</em>, <em>RBData</em><big>)</big><a class="reference internal" href="_modules/GSASIImath.html#SetMolCent"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GSASIImath.SetMolCent" title="Permalink to this definition">¶</a></dt>
<dd><p>default doc string</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> (<em>type</em>) &#8211; description</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">type name: description</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="GSASIImath.TLS2Uij">
<tt class="descclassname">GSASIImath.</tt><tt class="descname">TLS2Uij</tt><big>(</big><em>xyz</em>, <em>g</em>, <em>Amat</em>, <em>rbObj</em><big>)</big><a class="reference internal" href="_modules/GSASIImath.html#TLS2Uij"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GSASIImath.TLS2Uij" title="Permalink to this definition">¶</a></dt>
<dd><p>default doc string</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> (<em>type</em>) &#8211; description</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">type name: description</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="GSASIImath.UpdateMCSAxyz">
<tt class="descclassname">GSASIImath.</tt><tt class="descname">UpdateMCSAxyz</tt><big>(</big><em>Bmat</em>, <em>MCSA</em><big>)</big><a class="reference internal" href="_modules/GSASIImath.html#UpdateMCSAxyz"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GSASIImath.UpdateMCSAxyz" title="Permalink to this definition">¶</a></dt>
<dd><p>default doc string</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> (<em>type</em>) &#8211; description</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">type name: description</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="GSASIImath.UpdateRBUIJ">
<tt class="descclassname">GSASIImath.</tt><tt class="descname">UpdateRBUIJ</tt><big>(</big><em>Bmat</em>, <em>Cart</em>, <em>RBObj</em><big>)</big><a class="reference internal" href="_modules/GSASIImath.html#UpdateRBUIJ"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GSASIImath.UpdateRBUIJ" title="Permalink to this definition">¶</a></dt>
<dd><p>default doc string</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> (<em>type</em>) &#8211; description</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">type name: description</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="GSASIImath.UpdateRBXYZ">
<tt class="descclassname">GSASIImath.</tt><tt class="descname">UpdateRBXYZ</tt><big>(</big><em>Bmat</em>, <em>RBObj</em>, <em>RBData</em>, <em>RBType</em><big>)</big><a class="reference internal" href="_modules/GSASIImath.html#UpdateRBXYZ"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GSASIImath.UpdateRBXYZ" title="Permalink to this definition">¶</a></dt>
<dd><p>default doc string</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> (<em>type</em>) &#8211; description</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">type name: description</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="GSASIImath.ValEsd">
<tt class="descclassname">GSASIImath.</tt><tt class="descname">ValEsd</tt><big>(</big><em>value</em>, <em>esd=0</em>, <em>nTZ=False</em><big>)</big><a class="reference internal" href="_modules/GSASIImath.html#ValEsd"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GSASIImath.ValEsd" title="Permalink to this definition">¶</a></dt>
<dd><p>Format a floating point number with a given level of precision or
with in crystallographic format with a &#8220;esd&#8221;, as value(esd). If esd is
negative the number is formatted with the level of significant figures
appropriate if abs(esd) were the esd, but the esd is not included.
if the esd is zero, approximately 6 significant figures are printed.
nTZ=True causes &#8220;extra&#8221; zeros to be removed after the decimal place.
for example:</p>
<blockquote>
<div><ul class="simple">
<li>&#8220;1.235(3)&#8221; for value=1.2346 &amp; esd=0.003</li>
<li>&#8220;1.235(3)e4&#8221; for value=12346. &amp; esd=30</li>
<li>&#8220;1.235(3)e6&#8221; for value=0.12346e7 &amp; esd=3000</li>
<li>&#8220;1.235&#8221; for value=1.2346 &amp; esd=-0.003</li>
<li>&#8220;1.240&#8221; for value=1.2395 &amp; esd=-0.003</li>
<li>&#8220;1.24&#8221; for value=1.2395 &amp; esd=-0.003 with nTZ=True</li>
<li>&#8220;1.23460&#8221; for value=1.2346 &amp; esd=0.0</li>
</ul>
</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>value</strong> (<em>float</em>) &#8211; number to be formatted</li>
<li><strong>esd</strong> (<em>float</em>) &#8211; uncertainty or if esd &lt; 0, specifies level of
precision to be shown e.g. esd=-0.01 gives 2 places beyond decimal</li>
<li><strong>nTZ</strong> (<em>bool</em>) &#8211; True to remove trailing zeros (default is False)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">value(esd) or value as a string</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="GSASIImath.adjHKLmax">
<tt class="descclassname">GSASIImath.</tt><tt class="descname">adjHKLmax</tt><big>(</big><em>SGData</em>, <em>Hmax</em><big>)</big><a class="reference internal" href="_modules/GSASIImath.html#adjHKLmax"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GSASIImath.adjHKLmax" title="Permalink to this definition">¶</a></dt>
<dd><p>default doc string</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> (<em>type</em>) &#8211; description</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">type name: description</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="GSASIImath.anneal">
<tt class="descclassname">GSASIImath.</tt><tt class="descname">anneal</tt><big>(</big><em>func</em>, <em>x0</em>, <em>args=()</em>, <em>schedule='fast'</em>, <em>full_output=0</em>, <em>T0=None</em>, <em>Tf=1e-12</em>, <em>maxeval=None</em>, <em>maxaccept=None</em>, <em>maxiter=400</em>, <em>boltzmann=1.0</em>, <em>learn_rate=0.5</em>, <em>feps=1e-06</em>, <em>quench=1.0</em>, <em>m=1.0</em>, <em>n=1.0</em>, <em>lower=-100</em>, <em>upper=100</em>, <em>dwell=50</em>, <em>slope=0.9</em>, <em>ranStart=False</em>, <em>ranRange=0.1</em>, <em>autoRan=False</em>, <em>dlg=None</em><big>)</big><a class="reference internal" href="_modules/GSASIImath.html#anneal"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GSASIImath.anneal" title="Permalink to this definition">¶</a></dt>
<dd><p>Minimize a function using simulated annealing.</p>
<p>Schedule is a schedule class implementing the annealing schedule.
Available ones are &#8216;fast&#8217;, &#8216;cauchy&#8217;, &#8216;boltzmann&#8217;</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>func</strong> (<em>callable</em>) &#8211; f(x, *args)
Function to be optimized.</li>
<li><strong>x0</strong> (<em>ndarray</em>) &#8211; Initial guess.</li>
<li><strong>args</strong> (<em>tuple</em>) &#8211; Extra parameters to <cite>func</cite>.</li>
<li><strong>schedule</strong> (<em>base_schedule</em>) &#8211; Annealing schedule to use (a class).</li>
<li><strong>full_output</strong> (<em>bool</em>) &#8211; Whether to return optional outputs.</li>
<li><strong>T0</strong> (<em>float</em>) &#8211; Initial Temperature (estimated as 1.2 times the largest
cost-function deviation over random points in the range).</li>
<li><strong>Tf</strong> (<em>float</em>) &#8211; Final goal temperature.</li>
<li><strong>maxeval</strong> (<em>int</em>) &#8211; Maximum function evaluations.</li>
<li><strong>maxaccept</strong> (<em>int</em>) &#8211; Maximum changes to accept.</li>
<li><strong>maxiter</strong> (<em>int</em>) &#8211; Maximum cooling iterations.</li>
<li><strong>learn_rate</strong> (<em>float</em>) &#8211; Scale constant for adjusting guesses.</li>
<li><strong>boltzmann</strong> (<em>float</em>) &#8211; Boltzmann constant in acceptance test
(increase for less stringent test at each temperature).</li>
<li><strong>feps</strong> (<em>float</em>) &#8211; Stopping relative error tolerance for the function value in
last four coolings.</li>
<li><strong>quench,m,n</strong> (<em>float</em>) &#8211; Parameters to alter fast_sa schedule.</li>
<li><strong>lower,upper</strong> (<em>float/ndarray</em>) &#8211; Lower and upper bounds on <cite>x</cite>.</li>
<li><strong>dwell</strong> (<em>int</em>) &#8211; The number of times to search the space at each temperature.</li>
<li><strong>slope</strong> (<em>float</em>) &#8211; Parameter for log schedule</li>
<li><strong>ranStart=False</strong> (<em>bool</em>) &#8211; True for set 10% of ranges about x</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><p>(xmin, Jmin, T, feval, iters, accept, retval) where</p>
<ul>
<li><p class="first">xmin (ndarray): Point giving smallest value found.</p>
</li>
<li><p class="first">Jmin (float): Minimum value of function found.</p>
</li>
<li><p class="first">T (float): Final temperature.</p>
</li>
<li><p class="first">feval (int): Number of function evaluations.</p>
</li>
<li><p class="first">iters (int): Number of cooling iterations.</p>
</li>
<li><p class="first">accept (int): Number of tests accepted.</p>
</li>
<li><p class="first">retval (int): Flag indicating stopping condition:</p>
<blockquote>
<div><ul class="simple">
<li>0: Points no longer changing</li>
<li>1: Cooled to final temperature</li>
<li>2: Maximum function evaluations</li>
<li>3: Maximum cooling iterations reached</li>
<li>4: Maximum accepted query locations reached</li>
<li>5: Final point not the minimum amongst encountered points</li>
</ul>
</div></blockquote>
</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
<p><em>Notes</em>:
Simulated annealing is a random algorithm which uses no derivative
information from the function being optimized. In practice it has
been more useful in discrete optimization than continuous
optimization, as there are usually better algorithms for continuous
optimization problems.</p>
<p>Some experimentation by trying the difference temperature
schedules and altering their parameters is likely required to
obtain good performance.</p>
<p>The randomness in the algorithm comes from random sampling in numpy.
To obtain the same results you can call numpy.random.seed with the
same seed immediately before calling scipy.optimize.anneal.</p>
<p>We give a brief description of how the three temperature schedules
generate new points and vary their temperature. Temperatures are
only updated with iterations in the outer loop. The inner loop is
over xrange(dwell), and new points are generated for
every iteration in the inner loop. (Though whether the proposed
new points are accepted is probabilistic.)</p>
<p>For readability, let d denote the dimension of the inputs to func.
Also, let x_old denote the previous state, and k denote the
iteration number of the outer loop. All other variables not
defined below are input variables to scipy.optimize.anneal itself.</p>
<p>In the &#8216;fast&#8217; schedule the updates are</p>
<div class="highlight-python"><pre>u ~ Uniform(0, 1, size=d)
y = sgn(u - 0.5) * T * ((1+ 1/T)**abs(2u-1) -1.0)
xc = y * (upper - lower)
x_new = x_old + xc

c = n * exp(-n * quench)
T_new = T0 * exp(-c * k**quench)</pre>
</div>
<p>In the &#8216;cauchy&#8217; schedule the updates are</p>
<div class="highlight-python"><pre>u ~ Uniform(-pi/2, pi/2, size=d)
xc = learn_rate * T * tan(u)
x_new = x_old + xc

T_new = T0 / (1+k)</pre>
</div>
<p>In the &#8216;boltzmann&#8217; schedule the updates are</p>
<div class="highlight-python"><pre>std = minimum( sqrt(T) * ones(d), (upper-lower) / (3*learn_rate) )
y ~ Normal(0, std, size=d)
x_new = x_old + learn_rate * y

T_new = T0 / log(1+k)</pre>
</div>
</dd></dl>

<dl class="function">
<dt id="GSASIImath.calcRamaEnergy">
<tt class="descclassname">GSASIImath.</tt><tt class="descname">calcRamaEnergy</tt><big>(</big><em>phi</em>, <em>psi</em>, <em>Coeff=</em><span class="optional">[</span><span class="optional">]</span><big>)</big><a class="reference internal" href="_modules/GSASIImath.html#calcRamaEnergy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GSASIImath.calcRamaEnergy" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes pseudo potential energy from a pair of torsion angles and a
numerical description of the potential energy surface. Used to create 
penalty function in LS refinement:     
<span class="math">\(Eval(\phi,\psi) = C[0]*exp(-V/1000)\)</span></p>
<p>where <span class="math">\(V = -C[3] * (\phi-C[1])^2 - C[4]*(\psi-C[2])^2 - 2*(\phi-C[1])*(\psi-C[2])\)</span></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>phi</strong> (<em>float</em>) &#8211; first torsion angle (<span class="math">\(\phi\)</span>)</li>
<li><strong>psi</strong> (<em>float</em>) &#8211; second torsion angle (<span class="math">\(\psi\)</span>)</li>
<li><strong>Coeff</strong> (<em>list</em>) &#8211; pseudo potential coefficients</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">list (sum,Eval): pseudo-potential difference from minimum &amp; value;
sum is used for penalty function.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="GSASIImath.calcTorsionEnergy">
<tt class="descclassname">GSASIImath.</tt><tt class="descname">calcTorsionEnergy</tt><big>(</big><em>TOR</em>, <em>Coeff=</em><span class="optional">[</span><span class="optional">]</span><big>)</big><a class="reference internal" href="_modules/GSASIImath.html#calcTorsionEnergy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GSASIImath.calcTorsionEnergy" title="Permalink to this definition">¶</a></dt>
<dd><p>default doc string</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> (<em>type</em>) &#8211; description</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">type name: description</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="GSASIImath.findOffset">
<tt class="descclassname">GSASIImath.</tt><tt class="descname">findOffset</tt><big>(</big><em>SGData</em>, <em>A</em>, <em>Fhkl</em><big>)</big><a class="reference internal" href="_modules/GSASIImath.html#findOffset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GSASIImath.findOffset" title="Permalink to this definition">¶</a></dt>
<dd><p>default doc string</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> (<em>type</em>) &#8211; description</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">type name: description</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="GSASIImath.getAngSig">
<tt class="descclassname">GSASIImath.</tt><tt class="descname">getAngSig</tt><big>(</big><em>VA</em>, <em>VB</em>, <em>Amat</em>, <em>SGData</em>, <em>covData={}</em><big>)</big><a class="reference internal" href="_modules/GSASIImath.html#getAngSig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GSASIImath.getAngSig" title="Permalink to this definition">¶</a></dt>
<dd><p>default doc string</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> (<em>type</em>) &#8211; description</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">type name: description</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="GSASIImath.getAtomXYZ">
<tt class="descclassname">GSASIImath.</tt><tt class="descname">getAtomXYZ</tt><big>(</big><em>atoms</em>, <em>cx</em><big>)</big><a class="reference internal" href="_modules/GSASIImath.html#getAtomXYZ"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GSASIImath.getAtomXYZ" title="Permalink to this definition">¶</a></dt>
<dd><p>default doc string</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> (<em>type</em>) &#8211; description</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">type name: description</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="GSASIImath.getCWgam">
<tt class="descclassname">GSASIImath.</tt><tt class="descname">getCWgam</tt><big>(</big><em>ins</em>, <em>pos</em><big>)</big><a class="reference internal" href="_modules/GSASIImath.html#getCWgam"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GSASIImath.getCWgam" title="Permalink to this definition">¶</a></dt>
<dd><p>default doc string</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> (<em>type</em>) &#8211; description</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">type name: description</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="GSASIImath.getCWgamDeriv">
<tt class="descclassname">GSASIImath.</tt><tt class="descname">getCWgamDeriv</tt><big>(</big><em>pos</em><big>)</big><a class="reference internal" href="_modules/GSASIImath.html#getCWgamDeriv"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GSASIImath.getCWgamDeriv" title="Permalink to this definition">¶</a></dt>
<dd><p>default doc string</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> (<em>type</em>) &#8211; description</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">type name: description</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="GSASIImath.getCWsig">
<tt class="descclassname">GSASIImath.</tt><tt class="descname">getCWsig</tt><big>(</big><em>ins</em>, <em>pos</em><big>)</big><a class="reference internal" href="_modules/GSASIImath.html#getCWsig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GSASIImath.getCWsig" title="Permalink to this definition">¶</a></dt>
<dd><p>default doc string</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> (<em>type</em>) &#8211; description</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">type name: description</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="GSASIImath.getCWsigDeriv">
<tt class="descclassname">GSASIImath.</tt><tt class="descname">getCWsigDeriv</tt><big>(</big><em>pos</em><big>)</big><a class="reference internal" href="_modules/GSASIImath.html#getCWsigDeriv"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GSASIImath.getCWsigDeriv" title="Permalink to this definition">¶</a></dt>
<dd><p>default doc string</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> (<em>type</em>) &#8211; description</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">type name: description</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="GSASIImath.getDensity">
<tt class="descclassname">GSASIImath.</tt><tt class="descname">getDensity</tt><big>(</big><em>generalData</em><big>)</big><a class="reference internal" href="_modules/GSASIImath.html#getDensity"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GSASIImath.getDensity" title="Permalink to this definition">¶</a></dt>
<dd><p>default doc string</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> (<em>type</em>) &#8211; description</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">type name: description</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="GSASIImath.getDistDerv">
<tt class="descclassname">GSASIImath.</tt><tt class="descname">getDistDerv</tt><big>(</big><em>Oxyz</em>, <em>Txyz</em>, <em>Amat</em>, <em>Tunit</em>, <em>Top</em>, <em>SGData</em><big>)</big><a class="reference internal" href="_modules/GSASIImath.html#getDistDerv"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GSASIImath.getDistDerv" title="Permalink to this definition">¶</a></dt>
<dd><p>default doc string</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> (<em>type</em>) &#8211; description</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">type name: description</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="GSASIImath.getMass">
<tt class="descclassname">GSASIImath.</tt><tt class="descname">getMass</tt><big>(</big><em>generalData</em><big>)</big><a class="reference internal" href="_modules/GSASIImath.html#getMass"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GSASIImath.getMass" title="Permalink to this definition">¶</a></dt>
<dd><p>default doc string</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> (<em>type</em>) &#8211; description</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">type name: description</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="GSASIImath.getRamaDeriv">
<tt class="descclassname">GSASIImath.</tt><tt class="descname">getRamaDeriv</tt><big>(</big><em>XYZ</em>, <em>Amat</em>, <em>Coeff</em><big>)</big><a class="reference internal" href="_modules/GSASIImath.html#getRamaDeriv"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GSASIImath.getRamaDeriv" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes numerical derivatives of torsion angle pair pseudo potential
with respect of crystallographic atom coordinates of the 5 atom sequence</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>XYZ</strong> (<em>nparray</em>) &#8211; crystallographic coordinates of 5 atoms</li>
<li><strong>Amat</strong> (<em>nparray</em>) &#8211; crystal to cartesian transformation matrix</li>
<li><strong>Coeff</strong> (<em>list</em>) &#8211; pseudo potential coefficients</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">list (deriv) derivatives of pseudopotential with respect to 5 atom
crystallographic xyz coordinates.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="GSASIImath.getRestAngle">
<tt class="descclassname">GSASIImath.</tt><tt class="descname">getRestAngle</tt><big>(</big><em>XYZ</em>, <em>Amat</em><big>)</big><a class="reference internal" href="_modules/GSASIImath.html#getRestAngle"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GSASIImath.getRestAngle" title="Permalink to this definition">¶</a></dt>
<dd><p>default doc string</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> (<em>type</em>) &#8211; description</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">type name: description</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="GSASIImath.getRestChiral">
<tt class="descclassname">GSASIImath.</tt><tt class="descname">getRestChiral</tt><big>(</big><em>XYZ</em>, <em>Amat</em><big>)</big><a class="reference internal" href="_modules/GSASIImath.html#getRestChiral"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GSASIImath.getRestChiral" title="Permalink to this definition">¶</a></dt>
<dd><p>default doc string</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> (<em>type</em>) &#8211; description</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">type name: description</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="GSASIImath.getRestDeriv">
<tt class="descclassname">GSASIImath.</tt><tt class="descname">getRestDeriv</tt><big>(</big><em>Func</em>, <em>XYZ</em>, <em>Amat</em>, <em>ops</em>, <em>SGData</em><big>)</big><a class="reference internal" href="_modules/GSASIImath.html#getRestDeriv"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GSASIImath.getRestDeriv" title="Permalink to this definition">¶</a></dt>
<dd><p>default doc string</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> (<em>type</em>) &#8211; description</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">type name: description</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="GSASIImath.getRestDist">
<tt class="descclassname">GSASIImath.</tt><tt class="descname">getRestDist</tt><big>(</big><em>XYZ</em>, <em>Amat</em><big>)</big><a class="reference internal" href="_modules/GSASIImath.html#getRestDist"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GSASIImath.getRestDist" title="Permalink to this definition">¶</a></dt>
<dd><p>default doc string</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> (<em>type</em>) &#8211; description</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">type name: description</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="GSASIImath.getRestPlane">
<tt class="descclassname">GSASIImath.</tt><tt class="descname">getRestPlane</tt><big>(</big><em>XYZ</em>, <em>Amat</em><big>)</big><a class="reference internal" href="_modules/GSASIImath.html#getRestPlane"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GSASIImath.getRestPlane" title="Permalink to this definition">¶</a></dt>
<dd><p>default doc string</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> (<em>type</em>) &#8211; description</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">type name: description</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="GSASIImath.getRestPolefig">
<tt class="descclassname">GSASIImath.</tt><tt class="descname">getRestPolefig</tt><big>(</big><em>ODFln</em>, <em>SamSym</em>, <em>Grid</em><big>)</big><a class="reference internal" href="_modules/GSASIImath.html#getRestPolefig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GSASIImath.getRestPolefig" title="Permalink to this definition">¶</a></dt>
<dd><p>default doc string</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> (<em>type</em>) &#8211; description</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">type name: description</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="GSASIImath.getRestPolefigDerv">
<tt class="descclassname">GSASIImath.</tt><tt class="descname">getRestPolefigDerv</tt><big>(</big><em>HKL</em>, <em>Grid</em>, <em>SHCoeff</em><big>)</big><a class="reference internal" href="_modules/GSASIImath.html#getRestPolefigDerv"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GSASIImath.getRestPolefigDerv" title="Permalink to this definition">¶</a></dt>
<dd><p>default doc string</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> (<em>type</em>) &#8211; description</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">type name: description</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="GSASIImath.getRestRama">
<tt class="descclassname">GSASIImath.</tt><tt class="descname">getRestRama</tt><big>(</big><em>XYZ</em>, <em>Amat</em><big>)</big><a class="reference internal" href="_modules/GSASIImath.html#getRestRama"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GSASIImath.getRestRama" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes a pair of torsion angles in a 5 atom string</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>XYZ</strong> (<em>nparray</em>) &#8211; crystallographic coordinates of 5 atoms</li>
<li><strong>Amat</strong> (<em>nparray</em>) &#8211; crystal to cartesian transformation matrix</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">list (phi,psi) two torsion angles in degrees</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="GSASIImath.getRestTorsion">
<tt class="descclassname">GSASIImath.</tt><tt class="descname">getRestTorsion</tt><big>(</big><em>XYZ</em>, <em>Amat</em><big>)</big><a class="reference internal" href="_modules/GSASIImath.html#getRestTorsion"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GSASIImath.getRestTorsion" title="Permalink to this definition">¶</a></dt>
<dd><p>default doc string</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> (<em>type</em>) &#8211; description</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">type name: description</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="GSASIImath.getSyXYZ">
<tt class="descclassname">GSASIImath.</tt><tt class="descname">getSyXYZ</tt><big>(</big><em>XYZ</em>, <em>ops</em>, <em>SGData</em><big>)</big><a class="reference internal" href="_modules/GSASIImath.html#getSyXYZ"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GSASIImath.getSyXYZ" title="Permalink to this definition">¶</a></dt>
<dd><p>default doc string</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> (<em>type</em>) &#8211; description</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">type name: description</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="GSASIImath.getTOFalpha">
<tt class="descclassname">GSASIImath.</tt><tt class="descname">getTOFalpha</tt><big>(</big><em>ins</em>, <em>dsp</em><big>)</big><a class="reference internal" href="_modules/GSASIImath.html#getTOFalpha"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GSASIImath.getTOFalpha" title="Permalink to this definition">¶</a></dt>
<dd><p>default doc string</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> (<em>type</em>) &#8211; description</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">type name: description</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="GSASIImath.getTOFalphaDeriv">
<tt class="descclassname">GSASIImath.</tt><tt class="descname">getTOFalphaDeriv</tt><big>(</big><em>dsp</em><big>)</big><a class="reference internal" href="_modules/GSASIImath.html#getTOFalphaDeriv"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GSASIImath.getTOFalphaDeriv" title="Permalink to this definition">¶</a></dt>
<dd><p>default doc string</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> (<em>type</em>) &#8211; description</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">type name: description</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="GSASIImath.getTOFbeta">
<tt class="descclassname">GSASIImath.</tt><tt class="descname">getTOFbeta</tt><big>(</big><em>ins</em>, <em>dsp</em><big>)</big><a class="reference internal" href="_modules/GSASIImath.html#getTOFbeta"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GSASIImath.getTOFbeta" title="Permalink to this definition">¶</a></dt>
<dd><p>default doc string</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> (<em>type</em>) &#8211; description</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">type name: description</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="GSASIImath.getTOFbetaDeriv">
<tt class="descclassname">GSASIImath.</tt><tt class="descname">getTOFbetaDeriv</tt><big>(</big><em>dsp</em><big>)</big><a class="reference internal" href="_modules/GSASIImath.html#getTOFbetaDeriv"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GSASIImath.getTOFbetaDeriv" title="Permalink to this definition">¶</a></dt>
<dd><p>default doc string</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> (<em>type</em>) &#8211; description</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">type name: description</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="GSASIImath.getTOFgamma">
<tt class="descclassname">GSASIImath.</tt><tt class="descname">getTOFgamma</tt><big>(</big><em>ins</em>, <em>dsp</em><big>)</big><a class="reference internal" href="_modules/GSASIImath.html#getTOFgamma"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GSASIImath.getTOFgamma" title="Permalink to this definition">¶</a></dt>
<dd><p>default doc string</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> (<em>type</em>) &#8211; description</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">type name: description</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="GSASIImath.getTOFgammaDeriv">
<tt class="descclassname">GSASIImath.</tt><tt class="descname">getTOFgammaDeriv</tt><big>(</big><em>dsp</em><big>)</big><a class="reference internal" href="_modules/GSASIImath.html#getTOFgammaDeriv"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GSASIImath.getTOFgammaDeriv" title="Permalink to this definition">¶</a></dt>
<dd><p>default doc string</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> (<em>type</em>) &#8211; description</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">type name: description</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="GSASIImath.getTOFsig">
<tt class="descclassname">GSASIImath.</tt><tt class="descname">getTOFsig</tt><big>(</big><em>ins</em>, <em>dsp</em><big>)</big><a class="reference internal" href="_modules/GSASIImath.html#getTOFsig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GSASIImath.getTOFsig" title="Permalink to this definition">¶</a></dt>
<dd><p>default doc string</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> (<em>type</em>) &#8211; description</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">type name: description</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="GSASIImath.getTOFsigDeriv">
<tt class="descclassname">GSASIImath.</tt><tt class="descname">getTOFsigDeriv</tt><big>(</big><em>dsp</em><big>)</big><a class="reference internal" href="_modules/GSASIImath.html#getTOFsigDeriv"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GSASIImath.getTOFsigDeriv" title="Permalink to this definition">¶</a></dt>
<dd><p>default doc string</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> (<em>type</em>) &#8211; description</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">type name: description</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="GSASIImath.getTorsionDeriv">
<tt class="descclassname">GSASIImath.</tt><tt class="descname">getTorsionDeriv</tt><big>(</big><em>XYZ</em>, <em>Amat</em>, <em>Coeff</em><big>)</big><a class="reference internal" href="_modules/GSASIImath.html#getTorsionDeriv"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GSASIImath.getTorsionDeriv" title="Permalink to this definition">¶</a></dt>
<dd><p>default doc string</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> (<em>type</em>) &#8211; description</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">type name: description</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="GSASIImath.getVCov">
<tt class="descclassname">GSASIImath.</tt><tt class="descname">getVCov</tt><big>(</big><em>varyNames</em>, <em>varyList</em>, <em>covMatrix</em><big>)</big><a class="reference internal" href="_modules/GSASIImath.html#getVCov"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GSASIImath.getVCov" title="Permalink to this definition">¶</a></dt>
<dd><p>obtain variance-covariance terms for a set of variables. NB: the varyList 
and covMatrix were saved by the last least squares refinement so they must match.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>varyNames</strong> (<em>list</em>) &#8211; variable names to find v-cov matric for</li>
<li><strong>varyList</strong> (<em>list</em>) &#8211; full list of all variables in v-cov matrix</li>
<li><strong>covMatrix</strong> (<em>nparray</em>) &#8211; full variance-covariance matrix from the last 
least squares refinement</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">nparray vcov: variance-covariance matrix for the variables given
in varyNames</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="GSASIImath.getWave">
<tt class="descclassname">GSASIImath.</tt><tt class="descname">getWave</tt><big>(</big><em>Parms</em><big>)</big><a class="reference internal" href="_modules/GSASIImath.html#getWave"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GSASIImath.getWave" title="Permalink to this definition">¶</a></dt>
<dd><p>default doc string</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> (<em>type</em>) &#8211; description</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">type name: description</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="GSASIImath.invQ">
<tt class="descclassname">GSASIImath.</tt><tt class="descname">invQ</tt><big>(</big><em>Q</em><big>)</big><a class="reference internal" href="_modules/GSASIImath.html#invQ"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GSASIImath.invQ" title="Permalink to this definition">¶</a></dt>
<dd><p>get inverse of quaternion
q=r+ai+bj+ck; q* = r-ai-bj-ck</p>
</dd></dl>

<dl class="function">
<dt id="GSASIImath.makeQuat">
<tt class="descclassname">GSASIImath.</tt><tt class="descname">makeQuat</tt><big>(</big><em>A</em>, <em>B</em>, <em>C</em><big>)</big><a class="reference internal" href="_modules/GSASIImath.html#makeQuat"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GSASIImath.makeQuat" title="Permalink to this definition">¶</a></dt>
<dd><p>Make quaternion from rotation of A vector to B vector about C axis</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>A,B,C</strong> (<em>np.array</em>) &#8211; Cartesian 3-vectors</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">quaternion &amp; rotation angle in radians q=r+ai+bj+ck</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="GSASIImath.mcsaSearch">
<tt class="descclassname">GSASIImath.</tt><tt class="descname">mcsaSearch</tt><big>(</big><em>data</em>, <em>RBdata</em>, <em>reflType</em>, <em>reflData</em>, <em>covData</em>, <em>pgbar</em><big>)</big><a class="reference internal" href="_modules/GSASIImath.html#mcsaSearch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GSASIImath.mcsaSearch" title="Permalink to this definition">¶</a></dt>
<dd><p>default doc string</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> (<em>type</em>) &#8211; description</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">type name: description</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="GSASIImath.normQ">
<tt class="descclassname">GSASIImath.</tt><tt class="descname">normQ</tt><big>(</big><em>QA</em><big>)</big><a class="reference internal" href="_modules/GSASIImath.html#normQ"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GSASIImath.normQ" title="Permalink to this definition">¶</a></dt>
<dd><p>get length of quaternion &amp; normalize it
q=r+ai+bj+ck</p>
</dd></dl>

<dl class="function">
<dt id="GSASIImath.printRho">
<tt class="descclassname">GSASIImath.</tt><tt class="descname">printRho</tt><big>(</big><em>SGLaue</em>, <em>rho</em>, <em>rhoMax</em><big>)</big><a class="reference internal" href="_modules/GSASIImath.html#printRho"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GSASIImath.printRho" title="Permalink to this definition">¶</a></dt>
<dd><p>default doc string</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> (<em>type</em>) &#8211; description</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">type name: description</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="GSASIImath.prodQQ">
<tt class="descclassname">GSASIImath.</tt><tt class="descname">prodQQ</tt><big>(</big><em>QA</em>, <em>QB</em><big>)</big><a class="reference internal" href="_modules/GSASIImath.html#prodQQ"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GSASIImath.prodQQ" title="Permalink to this definition">¶</a></dt>
<dd><p>Grassman quaternion product
QA,QB quaternions; q=r+ai+bj+ck</p>
</dd></dl>

<dl class="function">
<dt id="GSASIImath.prodQVQ">
<tt class="descclassname">GSASIImath.</tt><tt class="descname">prodQVQ</tt><big>(</big><em>Q</em>, <em>V</em><big>)</big><a class="reference internal" href="_modules/GSASIImath.html#prodQVQ"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GSASIImath.prodQVQ" title="Permalink to this definition">¶</a></dt>
<dd><p>compute the quaternion vector rotation qvq-1 = v&#8217;
q=r+ai+bj+ck</p>
</dd></dl>

<dl class="function">
<dt id="GSASIImath.randomAVdeg">
<tt class="descclassname">GSASIImath.</tt><tt class="descname">randomAVdeg</tt><big>(</big><em>r0</em>, <em>r1</em>, <em>r2</em>, <em>r3</em><big>)</big><a class="reference internal" href="_modules/GSASIImath.html#randomAVdeg"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GSASIImath.randomAVdeg" title="Permalink to this definition">¶</a></dt>
<dd><p>create random angle (deg),vector from 4 random number in range (-1,1)</p>
</dd></dl>

<dl class="function">
<dt id="GSASIImath.randomQ">
<tt class="descclassname">GSASIImath.</tt><tt class="descname">randomQ</tt><big>(</big><em>r0</em>, <em>r1</em>, <em>r2</em>, <em>r3</em><big>)</big><a class="reference internal" href="_modules/GSASIImath.html#randomQ"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GSASIImath.randomQ" title="Permalink to this definition">¶</a></dt>
<dd><p>create random quaternion from 4 random numbers in range (-1,1)</p>
</dd></dl>

<dl class="function">
<dt id="GSASIImath.setPeakparms">
<tt class="descclassname">GSASIImath.</tt><tt class="descname">setPeakparms</tt><big>(</big><em>Parms</em>, <em>Parms2</em>, <em>pos</em>, <em>mag</em>, <em>ifQ=False</em>, <em>useFit=False</em><big>)</big><a class="reference internal" href="_modules/GSASIImath.html#setPeakparms"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GSASIImath.setPeakparms" title="Permalink to this definition">¶</a></dt>
<dd><p>default doc string</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> (<em>type</em>) &#8211; description</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">type name: description</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="GSASIImath.sortArray">
<tt class="descclassname">GSASIImath.</tt><tt class="descname">sortArray</tt><big>(</big><em>data</em>, <em>pos</em>, <em>reverse=False</em><big>)</big><a class="reference internal" href="_modules/GSASIImath.html#sortArray"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GSASIImath.sortArray" title="Permalink to this definition">¶</a></dt>
<dd><p>data is a list of items
sort by pos in list; reverse if True</p>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/G2_html_logo.png" alt="Logo"/>
            </a></p>
  <h4>Previous topic</h4>
  <p class="topless"><a href="GSASIIimage.html"
                        title="previous chapter"><em>GSASIIimage: Image calc module</em></a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="GSASIIindex.html"
                        title="next chapter"><em>GSASIIindex: Cell Indexing Module</em></a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/GSASIImath.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="GSASIIindex.html" title="GSASIIindex: Cell Indexing Module"
             >next</a> |</li>
        <li class="right" >
          <a href="GSASIIimage.html" title="GSASIIimage: Image calc module"
             >previous</a> |</li>
        <li><a href="index.html">GSAS-II 0.2.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2013, Von Dreele and Toby for Argonne National Laboratory.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.2.
    </div>
  </body>
</html>